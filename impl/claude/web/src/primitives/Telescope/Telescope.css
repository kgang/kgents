/**
 * Telescope Styles
 *
 * STARK BIOME: 90% steel, 10% earned glow.
 * "Navigate toward stability. The gradient IS the guide. The loss IS the landscape."
 */

/* =============================================================================
 * Container
 * ============================================================================= */

.telescope {
  position: relative;
  background: var(--steel-900, #0d1117);
  border-radius: 8px;
  overflow: hidden;
  outline: none;
}

.telescope:focus {
  box-shadow: 0 0 0 2px var(--status-edge, #f59e0b);
}

/* =============================================================================
 * Canvas
 * ============================================================================= */

.telescope__canvas {
  display: block;
  width: 100%;
  height: 100%;
}

/* =============================================================================
 * Nodes
 * ============================================================================= */

.telescope__nodes {
  /* Container for all nodes */
}

.telescope__node {
  transition: opacity 0.2s ease, transform 0.2s ease;
}

.telescope__node:hover {
  opacity: 1 !important;
  transform: scale(1.1);
}

.telescope__node circle {
  transition: all 0.2s ease;
}

/* Focal ring animation (gold pulsing ring) */
.telescope__focal-ring {
  animation: focal-pulse 1.5s ease-in-out infinite;
}

@keyframes focal-pulse {
  0%,
  100% {
    opacity: 0.6;
    stroke-width: 1.5;
  }
  50% {
    opacity: 0.3;
    stroke-width: 2;
  }
}

/* =============================================================================
 * Gradient Arrows
 * ============================================================================= */

.telescope__gradients {
  /* Container for gradient field */
}

.telescope__gradient-arrow {
  transition: opacity 0.2s ease;
  filter: drop-shadow(0 0 2px rgba(0, 0, 0, 0.3));
}

.telescope__gradient-arrow:hover {
  opacity: 1 !important;
  filter: drop-shadow(0 0 4px rgba(34, 197, 94, 0.4));
}

/* =============================================================================
 * Legend
 * ============================================================================= */

.telescope__legend {
  position: absolute;
  bottom: 16px;
  right: 16px;
  display: flex;
  flex-direction: column;
  gap: 8px;
  padding: 12px;
  background: var(--steel-800, #1a1a1a);
  border-radius: 6px;
  border: 1px solid var(--steel-600, #333);
  font-size: 12px;
  color: var(--text-secondary, #8a8a94);
  pointer-events: none;
}

.telescope__legend-item {
  display: flex;
  align-items: center;
  gap: 8px;
}

.telescope__legend kbd {
  padding: 2px 6px;
  background: var(--steel-700, #252525);
  border: 1px solid var(--steel-600, #444);
  border-radius: 3px;
  font-family: 'Courier New', monospace;
  font-size: 11px;
  color: var(--glow-spore, #c4a77d);
  min-width: 24px;
  text-align: center;
}

/* =============================================================================
 * Health/Loss Color Semantics
 * ============================================================================= */

/*
 * Viridis-inspired loss colormap:
 * - Purple (#440154): Low loss, stable, well-grounded
 * - Blue-green (#31688e): Mid loss, moderate drift
 * - Yellow (#fde724): High loss, semantic drift, needs attention
 */

.telescope__node--healthy {
  /* Low loss nodes - stable */
  fill: #440154;
}

.telescope__node--warning {
  /* Mid loss nodes - watch */
  fill: #31688e;
}

.telescope__node--critical {
  /* High loss nodes - drift */
  fill: #fde724;
}

/* Gradient arrow magnitude colors */
.telescope__gradient-arrow--low {
  stroke: #22c55e; /* Green - stable gradient */
}

.telescope__gradient-arrow--medium {
  stroke: #f59e0b; /* Orange - warning gradient */
}

.telescope__gradient-arrow--high {
  stroke: #ef4444; /* Red - critical gradient */
}
