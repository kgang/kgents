/**
 * GLYPH STYLES — STARK BIOME
 *
 * Philosophy:
 * - Mathematical notation aesthetic
 * - Monospace font for geometric precision
 * - Breathing animation uses 4-7-8 asymmetric timing (6.75s cycle)
 * - Stillness by default, earned movement
 *
 * @see docs/creative/stark-biome-moodboard.md
 */

/* Base glyph styling */
.glyph {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-family: var(--font-mono, 'JetBrains Mono', 'Fira Code', monospace);
  font-weight: 400;
  line-height: 1;
  color: inherit; /* Default: inherit from parent */
  user-select: none;
  letter-spacing: 0.02em; /* Subtle spacing for readability */
  vertical-align: middle;
}

/* Size variants — precise scaling */
.glyph--xs {
  font-size: 10px;
  min-width: 10px;
}

.glyph--sm {
  font-size: 12px;
  min-width: 12px;
}

.glyph--md {
  font-size: 14px;
  min-width: 14px;
}

.glyph--lg {
  font-size: 18px;
  min-width: 18px;
}

/**
 * BREATHING ANIMATION — 4-7-8 Asymmetric Timing
 *
 * "Stillness, then life"
 *
 * Timing breakdown (6.75s cycle):
 * - Rest (0-15%): 0.985 opacity — stillness before inhale
 * - Gentle Rise (15-40%): 0.985 → 1.0 — soft inhale
 * - Brief Hold (40-50%): 1.0 — moment of fullness
 * - Slow Release (50-95%): 1.0 → 0.985 — long, calming exhale
 * - Return (95-100%): 0.985 — back to rest
 *
 * @see docs/creative/stark-biome-moodboard.md
 */
@keyframes glyph-breathe {
  /* Rest — stillness before inhale */
  0% {
    opacity: 0.985;
  }
  15% {
    opacity: 0.985;
  }

  /* Gentle Rise — soft inhale */
  20% {
    opacity: 0.99;
  }
  25% {
    opacity: 0.995;
  }
  30% {
    opacity: 0.998;
  }
  35% {
    opacity: 1;
  }

  /* Brief Hold — moment of fullness */
  40% {
    opacity: 1;
  }
  50% {
    opacity: 1;
  }

  /* Slow Release — long, calming exhale */
  55% {
    opacity: 0.998;
  }
  60% {
    opacity: 0.996;
  }
  65% {
    opacity: 0.994;
  }
  70% {
    opacity: 0.992;
  }
  75% {
    opacity: 0.99;
  }
  80% {
    opacity: 0.988;
  }
  85% {
    opacity: 0.987;
  }
  90% {
    opacity: 0.986;
  }

  /* Return — back to rest */
  95% {
    opacity: 0.985;
  }
  100% {
    opacity: 0.985;
  }
}

.glyph--breathing {
  animation: glyph-breathe 6.75s linear infinite;
}

/* Respect user motion preferences */
@media (prefers-reduced-motion: reduce) {
  .glyph--breathing {
    animation: none !important;
  }
}

/**
 * Utility classes for common use cases
 */

/* Inherit color from parent */
.glyph--inherit {
  color: inherit;
}

/* STARK BIOME semantic colors */
.glyph--steel {
  color: var(--steel-300, #a0a0a0);
}

.glyph--life {
  color: var(--life-sage, #4a6b4a);
}

.glyph--glow {
  color: var(--glow-spore, #c4a77d);
}

.glyph--healthy {
  color: var(--health-healthy, #22c55e);
}

.glyph--degraded {
  color: var(--health-degraded, #facc15);
}

.glyph--warning {
  color: var(--health-warning, #f97316);
}

.glyph--critical {
  color: var(--health-critical, #ef4444);
}

/* Hover glow effect (earned glow) */
.glyph--hover-glow {
  transition: color 0.2s ease, text-shadow 0.2s ease;
}

.glyph--hover-glow:hover {
  color: var(--life-sage, #4a6b4a);
  text-shadow: 0 0 8px rgba(139, 169, 139, 0.5); /* glow-lichen */
}
