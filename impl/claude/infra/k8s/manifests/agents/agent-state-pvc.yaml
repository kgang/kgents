# PersistentVolumeClaim for Agent State
#
# Provides durable storage for D-gent sidecar checkpoints.
# This ensures agent state survives pod restarts and rescheduling.
#
# Features:
# - ReadWriteOnce: Single node access (matches Deployment replicas=1)
# - 1Gi initial capacity (sufficient for state checkpoints)
# - Uses cluster default storage class
#
# Production considerations:
# - Adjust storage size based on agent count and state complexity
# - Consider ReadWriteMany if horizontal scaling is needed
# - Use appropriate storage class for performance requirements
#
# AGENTESE: self.dgent.storage.manifest
---
apiVersion: v1
kind: PersistentVolumeClaim
metadata:
  name: ugent-state
  namespace: kgents
  labels:
    app.kubernetes.io/name: ugent
    app.kubernetes.io/part-of: kgents
    app.kubernetes.io/component: storage
spec:
  accessModes:
    - ReadWriteOnce
  resources:
    requests:
      storage: 1Gi
  # Use cluster default storage class
  # Uncomment to specify explicitly:
  # storageClassName: standard
