# Kustomize configuration for NATS deployment
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

namespace: kgents-agents

resources:
  - configmap.yaml
  - statefulset.yaml
  - service.yaml
  - pdb.yaml
  - backup-cronjob.yaml
  - backup-s3-secret.yaml  # Phase 11: S3 credentials (optional)

commonLabels:
  app.kubernetes.io/managed-by: kustomize
  kgents.io/component: nats-streaming

# Image override for different environments
images:
  - name: nats
    newTag: 2.10-alpine
  - name: natsio/prometheus-nats-exporter
    newTag: "0.14.0"
