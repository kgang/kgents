
## 2025-12-28T02:56:17.542Z: Analyzed https://poncle.itch.io/vampire-survivors-demo

### Technical
- Canvas: None
- Audio elements: 0
- Buttons: 1
- Modals: No
- PWA: Yes

### Observations
[PLAYER to fill in after analysis]

## 2025-12-28T17:18:43.593Z: Analyzed https://poncle.itch.io/vampire-survivors-demo

### Technical
- Canvas: None
- Audio elements: 0
- Buttons: 1
- Modals: No
- PWA: Yes

### Observations
[PLAYER to fill in after analysis]

---

## PLAYER Research: Comparable Games (Run 034)

> *"Focus on crisp, fair game mechanics, counterplay, and skill expression!"*

### Hades (Gold Standard for Fairness)

**Source**: [Game Developer Interview](https://www.gamedeveloper.com/design/roguelikes-and-narrative-design-with-i-hades-i-creative-director-greg-kasavin), [Medium Analysis](https://joshli1997.medium.com/why-the-roguelike-formula-works-so-well-with-hades-and-why-death-feels-so-fun-52bba1736221)

**KEY LEARNINGS**:
1. **Telegraphs are LITERAL**: "It quite literally shows you the safe spot through a glowing effect."
2. **Death teaches once**: "You will never die to that attack again unless you forget the lesson."
3. **Death is a reward**: "The thrill of gameplay ends, player not only respawns, but the thrill of narrative begins."
4. **Skill IS the progression**: Beyond leveling, mastering the combat system is true progression.

**Quality Bar for Hornet Siege**:
- Every death should have a visible telegraph 0.3-0.5s before
- The death cause should be IMMEDIATELY obvious
- Death screen should teach, not just punish

### Enter the Gungeon (Bullet Hell Fairness)

**Source**: [Enter the Gungeon Wiki](https://enterthegungeon.fandom.com/wiki/Bullet_Hell), [Game On Reviews](https://gameonreviews.com/enter-the-gungeon-a-bullet-hell-masterpiece-that-keeps-players-coming-back-for-more/)

**KEY LEARNINGS**:
1. **Notoriously difficult but FAIR**: "Every enemy attack is telegraphed, every death feels like a learning opportunity."
2. **Pattern variety creates depth**: Bullets ricochet, explode, curve, home. VARIETY.
3. **Boss DPS cap**: "Forces you to focus less on damage and more on learning patterns."
4. **Unpredictable enemies are frustrating**: Ammoconda is criticized for random patterns.

**Quality Bar for Hornet Siege**:
- Bee attack patterns must be LEARNABLE
- Colony coordination should feel READABLE, not random
- Each bee type should have distinct, predictable behaviors
- THE BALL gaps must be visible and consistent

### Deep Rock Galactic: Survivor (2024's One Hit)

**Source**: [How To Market A Game](https://howtomarketagame.com/2024/04/08/how-creating-a-spinoff-for-a-hot-genre-lead-to-success-for-deep-rock-galactic-survivor/), [PC Gamer Review](https://www.pcgamer.com/games/roguelike/deep-rock-galactic-survivor-review/)

**KEY LEARNINGS**:
1. **Strategic depth**: "Adds a level of strategy that isn't present in other genre titles."
2. **Terrain as mechanic**: "Mining creates friction... bottlenecks, escape routes."
3. **Simple controls, deep meta**: "Controls simple, complexity in gameplay and upgrades."
4. **Fear and claustrophobia**: "A sense of fear that doesn't exist in other survivor-likes."

**Quality Bar for Hornet Siege**:
- Strategic depth through coordination system
- THE BALL should create genuine fear/tension
- Upgrades should create build variety (archetypes)
- Run 034: Skill expression should be VISIBLE (different play looks different)

---

## QUALITY BARS: Run 034 Verification Standards

### FAIRNESS (From Hades + Enter the Gungeon)

| Qualia | Bar | How to Verify |
|--------|-----|---------------|
| Attack Telegraph | 0.3-0.5s visible warning | Screenshot in debug mode showing wind-up |
| Death Attribution | Cause visible in <2s | Screenshot of death screen text |
| Pattern Learnability | Same bee = same pattern | Multiple screenshots of same bee type |
| Coordination Visibility | Obvious when bees coordinate | Screenshot showing alarm/coordination states |

### SKILL EXPRESSION (From Deep Rock Survivor)

| Qualia | Bar | How to Verify |
|--------|-----|---------------|
| Mastery Visible | Run 10 looks different from Run 1 | Compare early vs late run footage |
| Build Diversity | 3+ distinct viable styles | Play as different archetypes |
| Counterplay Exists | Every threat has a counter | Test each enemy type in debug mode |
| Escape Possible | THE BALL gap is navigable | Use debug to force BALL, test escape |

### JUICE (From Vampire Survivors reference)

| Qualia | Bar | How to Verify |
|--------|-----|---------------|
| Kill Feel | Crunch + scatter + XP burst | Screenshot on kill |
| Screen Shake | Proportional to kills | Multi-kill vs single kill comparison |
| XP Feedback | Particles vacuum to player | Visible in gameplay |

---

## DEBUG API AUDIT (PLAYER Infrastructure Assessment)

**Verdict**: COMPREHENSIVE. The game has excellent debug tooling.

### Available Debug Tools (via `?debug=true`)

**Keyboard Shortcuts**:
- `I` = Toggle invincibility
- `B` = Force/advance THE BALL
- `N` = Skip to next wave
- `K` = Kill all enemies
- `L` = Trigger level-up
- `1-5` = Spawn enemy (worker/scout/guard/propolis/royal)

**Window Debug API**:
- `DEBUG_GET_GAME_STATE()` - Full state access
- `DEBUG_GET_ENEMIES()` - Enemy array with coordination states
- `DEBUG_GET_PLAYER()` - Player state
- `DEBUG_GET_LAST_DAMAGE()` - Last damage source
- `DEBUG_GET_TELEGRAPHS()` - Alarmed/coordinating enemies
- `DEBUG_SPAWN(type, x, y)` - Spawn specific enemy
- `DEBUG_SET_INVINCIBLE(bool)` - Toggle god mode
- `DEBUG_SKIP_WAVE()` - Advance wave
- `DEBUG_KILL_ALL_ENEMIES()` - Clear all
- `DEBUG_LEVEL_UP()` - Force level-up
- `DEBUG_FORCE_BALL()` - Start THE BALL formation
- `DEBUG_GET_BALL_PHASE()` - Current ball phase
- `DEBUG_NEXT_BALL_PHASE()` - Advance ball phase

### What's GOOD for WITNESS Phase

1. **Full state access** - Can verify any game state
2. **Spawn controls** - Can test specific enemy behaviors
3. **THE BALL controls** - Can test all TB-1 through TB-7 laws
4. **Invincibility** - Can explore late game without dying

### What's MISSING (Needs Request)

1. **Visual debug overlay** - Enemy coordination states not visible on screen
2. **Telegraph indicators** - No visual for attack wind-up timing
3. **Hitbox visualization** - Player/enemy collision areas not shown
4. **Damage source indicator** - Last attacker not shown on HUD

### PLAYER Infrastructure Request (for BUILD phase)

These are NOT blockers, but would IMPROVE verification quality:

1. **Debug HUD** (`?debug=true` enhancement):
   - Show enemy behavior state labels
   - Show telegraph timing progress bars
   - Show coordination state (individual/alarm/coordinating/formation)

2. **Gap visualization**:
   - Highlight THE BALL escape gap in distinct color
   - Show gap size visually during constrict phase

---

*Updated: 2025-12-28 (Run 034 Support PLAYER)*

---

## PLAYER-TRANSFORM: Run 036 Iteration 2 (Viral Moment Research)

> *"Whatever exists is not good enough. TRANSFORM."*

### Research: What Makes Game Clips Go Viral

**Source Analysis**: [Sportskeeda Elden Ring Moments](https://www.sportskeeda.com/esports/top-5-amazing-elden-ring-streamer-moments), [Stream Hatchet Elden Ring](https://streamhatchet.com/blog/elden-ring-shadow-of-the-erdtree-hypes-gamers-and-streamers/), [Streams Charts Clips](https://streamscharts.com/clips)

**KEY FINDINGS - Viral Game Clip Anatomy**:

1. **Boss Kill Reactions**: xQc's viral clip defeating Elden Beast = streamer's visible euphoria + final blow moment + "I DID IT" energy
2. **Unexpected Humor**: ScaryRussianWizard following a goat = unpredictable whimsy amid serious gameplay
3. **Creative Exploits**: Trashly's mimic tear chair transformation = "wait you can DO that?" moment (2.5M views)
4. **Extreme Challenge**: MissMikkaa's level 1 NG+7 = mastery made visible
5. **Co-op Disasters**: New player fails = contrast between veteran and novice

**The Shareability Formula**:
```
VIRAL = Reaction × Context × Unexpectedness × Relatability
      = "HOLY SHIT" moment × "I understood that" × "I didn't see that coming" × "That could be me"
```

### Research: The Psychology of Dread Through Silence

**Source Analysis**: [Wayline Silence in Horror](https://www.wayline.io/blog/silence-is-scary-sound-design-horror-games), [GeniusCrate Audio Fear](https://www.geniuscrate.com/the-role-of-sound-design-in-horror-games-how-audio-creates-fear/), [Rob Summers Horror Sound](https://robsummers.co.uk/unveiling-the-terrifying-secrets-of-sound-in-horror-games/)

**KEY FINDINGS - Dread Before THE BALL**:

1. **Amnesia Principle**: Silence before scares creates "brief calm before chaos"
2. **Alien: Isolation**: Absence of sound forces reliance on subtle cues - "you can only wonder and worry"
3. **Dynamic Range**: Moments of near-silence punctuated by carefully chosen audio = sustained unease
4. **Iron Lung**: Claustrophobic silence creates "unbearable tension"
5. **The Resident Evil 7 Rule**: "The most terrifying moments happen in near silence... the unsettling quiet before the jump scare"

**THE BALL Audio Design Principle**:
```
Phase 1: Buzz crescendo (tension building) → 0.3 volume → 1.0 peak
Phase 2: SUDDEN SILENCE (3 seconds of pure dread)
Phase 3: Deep bass note (arrival of inevitability)
Phase 4: Cooking crackle (execution)
```

### Research: Hitstop/Freeze Frames for Impact

**Source Analysis**: [SmashWiki Hitlag](https://www.ssbwiki.com/Hitlag)

**KEY FINDINGS - Making Actions Feel Heavy**:

1. **Sakurai's Hitlag Theory**: "The brief moment where both fighters freeze gives both players more time to plan... adds emphasis to power and impact"
2. **Damage Correlation**: Higher damage = higher hitlag (hierarchy of impact)
3. **Street Fighter Principle**: "Watch how the action judders... to really make those kicks hit home"
4. **Fighting Game Characters**: Ryu/Ken use 1.5x hitlag multiplier - attacks feel HEAVIER

**THE BALL Hitstop Application**:
```
Worker Kill:     2 frames  (33ms)  - subtle weight
Guard Kill:      4 frames  (66ms)  - noticeable impact
Multi-Kill (5+): 6 frames  (100ms) - time slows for badasses
THE BALL Escape: 8 frames  (133ms) - "I made it" moment
```

### Research: Vlambeer Juice Theory

**Source Analysis**: [GameDeveloper Juice](https://www.gamedeveloper.com/design/squeezing-more-juice-out-of-your-game-design-), [GameAnalytics Juice](https://www.gameanalytics.com/blog/squeezing-more-juice-out-of-your-game-design), [Verboten Games Screen Shake Psychology](https://verbotengames.wordpress.com/2014/06/21/the-psychology-of-screen-shake/)

**KEY FINDINGS - The Vlambeer Doctrine**:

1. **Juice Definition**: "Taking a game that works and adding layers of satisfaction" - every visual/auditory input creates virtual experience
2. **Input-Output Loop**: "Game enters player → player inputs → game reacts → reactions enter player → player thinks"
3. **Screen Shake as Feedback**: "Wobbles uncontrollably when you fire/hit/kill... feels satisfying, provides instantaneous feedback that player is touching the world"
4. **Hit Pause**: "Pause the game for a split second when you hit or kill an enemy... makes impacts more impactful"
5. **Personal Signature**: "Each developer should have their own signature juicing techniques"

**Hornet Siege Juice Signature**:
- **Mandible Crunch**: The satisfying SNAP of a kill
- **Pollen Burst**: Yellow particle explosion on death
- **Heat Shimmer**: Visual distortion as THE BALL forms
- **Swagger Pause**: Brief freeze on multi-kill (hornet savors the moment)

---

## THE BALL: Spectacle Verification Framework

> *"Would this make someone clip this?"*

### The Clip-Worthy Checklist (5 Tests)

| Test | Question | Pass Criteria |
|------|----------|---------------|
| **GASP Test** | Does a first-time viewer gasp? | Visible/audible reaction in first 5 seconds |
| **CONTEXT Test** | Is it compelling without explanation? | Stranger understands "that was a close call" |
| **REACTION Test** | Would a streamer react? | Creates natural commentary moment |
| **REPLAY Test** | Would someone watch it twice? | The "wait, show me that again" factor |
| **SHARE Test** | Would someone send this to a friend? | "You have to see this" compulsion |

### THE BALL Spectacle Elements

| Element | Current | Transformation Target |
|---------|---------|----------------------|
| **Visual: Formation** | Bees surround | Bees form GEOMETRIC SPHERE with visible structure |
| **Visual: Heat** | Temperature indicator | Heat shimmer, air distortion, glow intensification |
| **Visual: Gap** | Escape route exists | GREEN ARC highlighting escape path (pulsing) |
| **Audio: Approach** | Buzz exists | Buzz crescendo 0.3 → 1.0 over 10 seconds |
| **Audio: Silence** | None | 3 SECONDS of complete silence (dread) |
| **Audio: Death** | Death sound | Deep bass note → cooking crackle (visceral) |
| **Camera: Formation** | Normal view | PULL BACK to show full sphere (scale reveal) |
| **Camera: Escape** | Normal view | FOCUS on gap during constrict (tension) |

### Verification Protocol: THE BALL

```typescript
interface BALLSpectacleVerification {
  // Visual Tests
  formationVisible: boolean;      // Can you SEE the sphere forming?
  heatShimmerActive: boolean;     // Is there visual distortion?
  gapHighlighted: boolean;        // Is escape route obvious?

  // Audio Tests
  buzzCrescendo: boolean;         // Does buzz build 0.3 → 1.0?
  silencePresent: boolean;        // Is there 3s of silence?
  deathSoundLayers: number;       // Bass + crackle = 2 layers minimum

  // Camera Tests
  pullBackOccurs: boolean;        // Does camera reveal scale?
  gapFocusOnConstrict: boolean;   // Does camera emphasize escape?

  // Impact Tests
  firstTimeGasp: boolean;         // Does a new viewer react?
  escapeFeelsEarned: boolean;     // Did I feel like I EARNED that?
  deathFeelsInevitable: boolean;  // "Of course I died" not "that was BS"
}
```

---

## Transformation Success Criteria: The "10x" Standard

> *"'10x' = audible reaction from strangers"*

### What "10x Better" Looks Like Concretely

| System | "1x" (Functional) | "10x" (Transformative) |
|--------|-------------------|------------------------|
| **Kill Feel** | Enemy disappears | CRUNCH + scatter + XP vacuum + shake + freeze frame |
| **THE BALL** | Enemies surround | Geometric sphere + heat shimmer + silence + bass note + camera pull |
| **Death** | "You Died" text | Acceptance animation + "they earned it" + causal chain display |
| **Movement** | Responsive controls | PREDATOR feel - weight, momentum, swagger in idle |
| **Upgrades** | Stats increase | Visible gameplay change + synergy sparks + "oh shit" moment |
| **Sound** | Sounds present | ASMR-level satisfaction - layered, crunchy, distinctive |

### The Shareability Measurement

**"Would I Show This To A Friend?" Test**:
1. Record 30 seconds of gameplay
2. Show to someone who doesn't know the game
3. Measure their reaction:
   - **Polite nod** = NOT TRANSFORMED ENOUGH
   - **Leans forward** = Getting there
   - **"Wait, what is that?"** = TRANSFORM SUCCESS
   - **"Can I try?"** = HOLY SHIT ACHIEVED

### The Audible Reaction Standard

**Definition**: A stranger watching gameplay produces an involuntary sound.

| Reaction | System That Caused It | Transformation Status |
|----------|----------------------|----------------------|
| "Oh!" | THE BALL forming | Spectacle working |
| "Whoa" | Multi-kill freeze frame | Juice working |
| "No no no no" | Gap closing | Tension working |
| "YES!" | Escape through gap | Counterplay working |
| "Holy shit" | Any moment | TRANSFORMATION COMPLETE |

### The Minimum Bar

```
TRANSFORMATION_COMPLETE = (
  strangerReaction !== "polite" &&
  wouldShowToFriend === true &&
  yesterdaysBuildLooksBoring === true &&
  wouldBragAboutBuilding === true
)
```

---

## Run 036 PLAYER-TRANSFORM Commitments

### Iteration 2 Discoveries → Iteration 3 Actions

1. **THE BALL Audio Must Have Silence**: 3 seconds of silence before bass note (horror game principle)
2. **Hitstop on Significant Moments**: Use Sakurai's freeze frame theory - higher impact = longer freeze
3. **Viral Clips Need Reaction + Context**: THE BALL must be self-explanatory to strangers
4. **Personal Juice Signature**: Define "Hornet Siege" feel (mandible crunch, pollen burst, swagger pause)
5. **Gap Must Be VISIBLE**: Green arc, pulsing, camera focus - the escape route IS the spectacle

### The Transformation Test (Ask Every Hour)

> *"If 'looks the same' → you haven't transformed enough."*

1. Is this 10x better or 10% better?
2. Would a stranger make a sound watching this?
3. Would I clip this?
4. Am I being BOLD or SAFE?
5. Does yesterday's build look BORING compared to this?

---

*Updated: 2025-12-28 (Run 036 PLAYER-TRANSFORM Iteration 2)*

---

## PLAYER-MECHANICS: Run 036 Iteration 2 (Deep Mechanical Research)

> *"The feel is the floor. If it doesn't feel tight, nothing else matters."*

### Date: 2025-12-28
### Focus: Freeze Frames, Graze Systems, Input Timing Standards

---

### 1. Vlambeer's Art of Screenshake: Freeze Frame Mastery

**Source**: [Jan Willem Nijman - Vlambeer - The Art of Screenshake](https://theengineeringofconsciousexperience.com/jan-willem-nijman-vlambeer-the-art-of-screenshake/), [Blue Tengu Experiments](https://www.bluetengu.com/2014/12/12/art-of-screenshake-experiments/)

**KEY LEARNINGS**:

1. **Freeze Frames are CRITICAL**: "Pausing the action for a frame or a couple of frames when enemies die, the player gets hit, or things explode is a good way to create buildup on actions, as long as you get into that sweet spot before players become conscious of the freeze."

2. **The Sweet Spot**: Freeze frames should be **subliminal** - players should FEEL the impact but not consciously notice the pause. This means:
   - 1-2 frames (16-33ms) for minor impacts
   - 3-4 frames (50-66ms) for significant kills
   - 5-6 frames (83-100ms) for MASSACRE moments (5+ kills)

3. **Feedback Stacking**: Vlambeer stacks multiple feedback types:
   - Sound (bass boost on fire)
   - Animation (hit animations on enemies)
   - Camera (kickback, shake)
   - Permanence (bodies stay)
   - Particles (shells, smoke)
   - Freeze frames (hitstop)

4. **"Part of what makes Vlambeer games so responsive"**: The damage delay feedback creates a loop where the player FEELS each action.

**Quality Bar for Hornet Siege**:
- `juice.ts` already has FREEZE constants with 2-6 frame hitstop
- VERIFY: Test that freeze frames are felt but not conscious
- VERIFY: Freeze must NOT break input buffering

---

### 2. Hitstop Frame Data Standards (Fighting Games)

**Source**: [CritPoints - Hitstop Analysis](https://critpoints.net/2017/05/17/hitstophitfreezehitlaghitpausehitshit/), [Source Gaming - Sakurai on Hitstop](https://sourcegaming.info/2015/11/11/thoughts-on-hitstop-sakurais-famitsu-column-vol-490-1/)

**KEY LEARNINGS**:

1. **Purpose of Hitstop (Sakurai)**:
   - "When you strike the opponent, both parties momentarily freeze, emphasizing the power of impact"
   - Visual indicator that attack connected
   - Gives eyes frames to register collision
   - Stronger attacks = longer hitstop

2. **Frame Data Standards**:
   | Impact Type | Typical Hitstop | Notes |
   |-------------|-----------------|-------|
   | Light jab | 5-8 frames | Barely perceptible |
   | Normal hit | 10-12 frames | Standard feel |
   | Heavy hit | 15-20 frames | Significant |
   | Super move | 20-30 frames | Dramatic pause |
   | Critical/KO | Up to 0.5s | Maximum drama |

3. **Vibration During Hitstop**: In Smash Bros, "the attacker vibrates slightly during hitstop" but hurtboxes remain static to prevent unfairness.

4. **Genre Consideration**: Dynasty Warriors uses MINIMAL hitstop because "if action stopped every single time you landed an attack, you would be frozen for a long time."

**Quality Bar for Hornet Siege**:
- As a swarm-clearing game, use SHORTER hitstop (like Dynasty Warriors)
- Current values (2-6 frames = 33-100ms) are APPROPRIATE
- Multi-kill should have MASSACRE freeze (6 frames) not per-kill
- VERIFY: Hitstop doesn't stack additively on multi-kills

---

### 3. Touhou Graze System: Risk-Reward Near Miss

**Source**: [Touhou Wiki - Graze](https://en.touhouwiki.net/wiki/Graze), [Touhou Fandom - Graze](https://touhou.fandom.com/wiki/Graze)

**KEY LEARNINGS**:

1. **Core Mechanic**: "Grazing is the concept of having the player character positioned close to a bullet without actually hitting it."

2. **Tiny Hitboxes Enable Grazing**: "In danmaku shooters, the hitbox is typically much smaller than the sprite itself, sometimes as small as a single pixel."

3. **Feedback**: "Grazing in Windows Touhou releases is usually accompanied by a sharp pop/crackle and a visualization depicting small white particles flying off from the player's hitbox area."

4. **Purpose**: "The mechanic exists in order to encourage a risk-reward style of play by rewarding the player for flirting with danger."

5. **Scoring Rewards Vary**:
   - Embodiment of Scarlet Devil: Increases bullet cancel value
   - Perfect Cherry Blossom: Key to high scores via Supernatural Borders
   - Imperishable Night: Awards time points during Youkai Mode

**Quality Bar for Hornet Siege**:
- `combat.ts` has GRAZE system with 30px zone, 5 grazes = +10% damage
- `juice.ts` has GRAZE_JUICE sparks (cyan, 8 particles, 200ms)
- VERIFY: Graze sound is distinct "pop/crackle"
- VERIFY: Graze chain counter visible during chain
- ENHANCE: Consider Touhou-style graze sound (sharp pop, not just visual)

---

### 4. Ikaruga: Polarity as Pseudo-Graze

**Source**: [Ikaruga Wiki](https://ikaruga.fandom.com/wiki/Ikaruga_(game)), [Wikipedia - Ikaruga](https://en.wikipedia.org/wiki/Ikaruga)

**KEY LEARNINGS**:

1. **Absorption Instead of Dodge**: "Same polarity bullets can be absorbed by the player's ship and be converted into energy for the ship's special weapon."

2. **Risk-Reward Through Absorption**: "The power of the attack increases one level for every 10 enemy bullets absorbed."

3. **Chaining System**: "Destroying three enemy fighters of the same color in a row will earn the player a chain bonus" - up to 25,600 points.

**Quality Bar for Hornet Siege**:
- Consider: Should graze CHARGE something beyond damage bonus?
- Potential enhancement: Graze charges a "rage meter" for special attack
- Not a blocker - current graze system is sufficient

---

### 5. Hades Dash I-Frames: The Gold Standard

**Source**: [Steam Discussions - Hades II i-frames](https://steamcommunity.com/app/1145350/discussions/0/4635986512580724515/), [Z League - Hades i-frames Analysis](https://www.zleague.gg/theportal/unraveling-the-hades-community-are-i-frames-in-the-game-messed-up/)

**KEY LEARNINGS**:

1. **I-Frames at START of Dash**: "The i-frames are more at the start of the dash rather than in the middle."

2. **CRITICAL: Actions Cancel I-Frames**: "If you ever press attack during a dash, you will dash attack, which is never invincible. You can cast or use a special as well, and both will also cancel your i-frames."

3. **Hades II Difference**: "There's a noticeable moment's pause, a green flash of magic that goes off before you commit to dashing and before the invincibility frames kick in."

4. **Near Miss Feedback**: "Using the 'Ruthless' option at the mirror can help - The Near Miss popup will give you feedback for when you did a successful iframe dodge."

**Quality Bar for Hornet Siege**:
- Current: `HOVER_BRAKE` has 300ms invuln on instant stop
- ENHANCE: Consider adding "Near Miss" popup feedback like Hades Ruthless
- VERIFY: I-frames start at frame 1 of hover brake activation

---

### 6. Coyote Time & Input Buffering Standards

**Source**: [Amazon Dev Blog - Coding Imprecise Controls](https://developer.amazon.com/blogs/appstore/post/9d2094ed-53cb-4a3a-a5cf-c7f34bca6cd3/coding-imprecise-controls-to-make-them-feel-more-precise), [Ketra Games - Coyote Time Tutorial](https://www.ketra-games.com/2021/08/coyote-time-and-jump-buffering.html)

**KEY LEARNINGS**:

1. **Coyote Time Standard**: ~200ms or ~4 frames
   - "A typical implementation uses around 200 milliseconds for coyote time"
   - Players don't notice, but it prevents "unfair" deaths

2. **Input Buffering Standard**: ~100-200ms buffer window
   - "If the player performs an action a few frames before it's allowed... the action will still happen"
   - Essential for "tight" feel

3. **Subliminal Design**: "When used solely as a mechanic to aid in character control instead of for comedic effect, coyote time is best designed when the player doesn't even notice that it exists."

4. **Super Meat Boy Excellence**: "Players can press the jump button while in the air, and if they hit a wall or the ground within the buffer window, a jump will be executed immediately."

**Quality Bar for Hornet Siege**:
- This is a TOP PRIORITY for tight feel
- VERIFY: Input buffer exists for dash/dodge (100ms minimum)
- VERIFY: Actions queued during freeze frames execute immediately after

---

### 7. Celeste: The Forgiveness Bible

**Source**: [Maddy Thorson Medium - Celeste & Forgiveness](https://maddythorson.medium.com/celeste-forgiveness-31e4a40399f1), [Thread by Matt Thorson](https://threadreaderapp.com/thread/1238338574220546049.html)

**KEY LEARNINGS**:

1. **Exact Frame Data**:
   - Coyote time: **5 frames** after walking off ledge
   - Input buffer: **5 frames** for queued actions
   - Dash duration: **15 frames** (including 3 freeze frames)
   - Dash cooldown: **0.2 seconds**

2. **Corner Correction**: "Dashing horizontally into a ledge or touching the ceiling within 4 pixels of a corner causes Madeline to automatically be pushed around the corner."

3. **Jump Apex Gravity**: "If you hold the jump button, the top of your jump has half gravity applied."

4. **Design Philosophy**: "All these mechanics are centered around widening timing/positioning windows, so that everything is fudged a tiny bit in the player's favor."

**Quality Bar for Hornet Siege**:
- CRITICAL: 5-frame (83ms) input buffer should be our standard
- Celeste's 3 freeze frames during dash = our reference for dodge feedback
- Corner correction could help with wall collision during dodge

---

### 8. Dead Cells: Roll I-Frames

**Source**: [Dead Cells Wiki - Mechanics](https://deadcells.wiki.gg/wiki/Mechanics), [Steam Discussions - Rolling Rules](https://steamcommunity.com/app/588650/discussions/0/1621724915820147694/)

**KEY LEARNINGS**:

1. **Roll Duration**: 0.4 seconds
2. **Roll Cooldown**: 0.37 seconds
3. **I-Frame Coverage**: "Quite a few invincibility frames" during roll
4. **Can Roll Through Attacks**: "If you dodge roll at the last second, you'll avoid the attack, even if you were in the attack's strike zone."
5. **Exception**: "Traps seem to ignore i-frames" - environmental hazards bypass dodge

**Quality Bar for Hornet Siege**:
- Current hover brake: 300ms invuln, 3000ms cooldown
- Dead Cells comparison: 400ms roll, 370ms cooldown (much more generous!)
- CONSIDER: Our cooldown (3s) may be TOO LONG for "tight" feel
- But we have PERSISTENT DODGE (hover), not action dodge (roll)

---

## MECHANICAL VERIFICATION TEST MATRIX (Iteration 2)

### Test Category: Input Responsiveness

| Qualia | Test Method | Pass Criteria | Debug API Hook |
|--------|-------------|---------------|----------------|
| **Input Buffer** | Queue action during freeze frame | Action executes frame 1 after freeze ends | `DEBUG_GET_INPUT_BUFFER()` |
| **I-Frame Start** | Measure frame of invulnerability start | Invuln at frame 1, not frame 2+ | `DEBUG_GET_IFRAME_START_FRAME()` |
| **Input Latency** | Measure time from keypress to action | < 16ms (1 frame) | `DEBUG_GET_INPUT_LATENCY()` |
| **Action Cancel** | Dash then attack | Attack cancels dash i-frames immediately | `DEBUG_GET_DASH_CANCELLED()` |

### Test Category: Freeze Frame Feel

| Qualia | Test Method | Pass Criteria | Debug API Hook |
|--------|-------------|---------------|----------------|
| **Freeze Duration** | Count frozen frames | 2-6 frames per FREEZE constant | `DEBUG_GET_FREEZE_FRAMES()` |
| **No Stack Overflow** | Kill 10 enemies simultaneously | Max freeze = MASSACRE (6 frames), not 60 | `DEBUG_GET_TOTAL_FREEZE()` |
| **Input Through Freeze** | Buffer input during freeze | Input queued, executes after | `DEBUG_GET_QUEUED_INPUTS()` |

### Test Category: Graze Precision

| Qualia | Test Method | Pass Criteria | Debug API Hook |
|--------|-------------|---------------|----------------|
| **Graze Zone** | Position player exactly 31px from enemy | Graze triggers | `DEBUG_GET_GRAZE_DISTANCE()` |
| **No False Positive** | Position player exactly 29px from enemy | Hit, not graze | `DEBUG_GET_COLLISION_TYPE()` |
| **Chain Tracking** | Graze 5 enemies in sequence | Chain = 5, bonus triggered | `DEBUG_GET_GRAZE_CHAIN()` |
| **Chain Decay** | Wait 2.1s after graze | Chain resets to 0 | `DEBUG_GET_GRAZE_CHAIN()` |

### Test Category: Hover Brake

| Qualia | Test Method | Pass Criteria | Debug API Hook |
|--------|-------------|---------------|----------------|
| **Activation** | Move at 100px/s, stop instantly | Hover brake activates | `DEBUG_GET_HOVER_BRAKE_STATE()` |
| **Duration** | Check invuln duration | Exactly 300ms | `DEBUG_GET_INVULN_REMAINING()` |
| **Cooldown** | Try to activate twice | Second fails within 3s | `DEBUG_GET_HOVER_BRAKE_COOLDOWN()` |
| **Visual Feedback** | Screenshot during hover brake | Cyan flash visible | Visual verification |

---

## INFRASTRUCTURE REQUESTS (for BUILD Phase Iteration 4)

### Needs: .needs.creative.md

1. **Near Miss Popup**: Like Hades "Ruthless" option - floating "+CLOSE" text on successful dodge
2. **Graze Sound**: Sharp pop/crackle (Touhou-style), not just visual sparks
3. **Input Buffer Indicator**: Debug overlay showing buffered inputs during freeze

### Needs: .needs.adversarial.md

1. **Frame-Perfect Test Harness**: Ability to inject inputs at exact frame boundaries
2. **Collision Debug Overlay**: Visualize exact hitbox vs graze zone boundaries
3. **Timing Measurement API**: Expose input latency, freeze duration to tests

---

*Updated: 2025-12-28 (Run 036 PLAYER-MECHANICS Iteration 2)*

---

## PLAYER-NARRATIVE: Run 036 Iteration 2 (Emotional Arc Research)

> *"Death should feel like completing a journey, not failing a test."*

### Date: 2025-12-28
### Focus: Dark Humor, Swagger, Dignified Tragedy, Contrast Verification

---

### 1. Dark Humor in Games: The Sardonic Narrator

**Source**: [Darkest Dungeon Wikipedia](https://en.wikipedia.org/wiki/Darkest_Dungeon), [Snugfam Quotes Collection](https://snugfam.com/top-50-darkest-dungeon-narrator-quotes-that-define-the-games-epic-atmosphere/)

**Wayne June's Darkest Dungeon Narrator**:
- Chris Bourassa heard Wayne June's H.P. Lovecraft readings, which partially inspired the game
- The narrator comments "in a sardonic manner throughout the game"
- June's lines became repeated sayings within the community
- The Affliction system focused on "stress and how it affects the human psyche" rather than "insanity"

**KEY LEARNINGS FOR HORNET SWAGGER**:
1. **Sardonic =/= Mean**: The narrator elevates tragedy, doesn't mock the player
2. **Lines become community language**: "The colony always wins. Respect." should be quotable
3. **Stress = thematic**: The colony's coordination mirrors stress building
4. **Voice becomes identity**: The narrator IS Darkest Dungeon; the hornet's swagger IS Hornet Siege

**Darkest Dungeon Narrator Patterns to Study**:
| Pattern | Example | Hornet Equivalent |
|---------|---------|-------------------|
| Acknowledge doom with style | "Ruin has come to our family" | "Well. Here we go again." |
| Celebrate success darkly | "A brilliant confluence of skill and purpose!" | "40 per minute. I can do better." |
| Accept death with dignity | "Many fall in the face of chaos" | "The colony always wins. ...Respect." |
| Dark humor, not nihilism | "Mortality clarified in a single strike" | "Ah. More ways to die magnificently." |

---

### 2. Swagger in Game Characters: Dante and Bayonetta

**Source**: [Dante Character Guide](https://yelzkizi.org/devil-may-crys-dante/), [Devil May Cry Wiki](https://devilmaycry.fandom.com/wiki/Dante), [Bayonetta Combat Analysis](https://aztez.com/blog/2012/02/08/combat-analysis-bayonetta/), [Game Developer on Bayonetta](https://www.gamedeveloper.com/design/-i-bayonetta-i-s-combat-design-philosophy-creating-a-direct-link-to-your-brain)

**Dante (Devil May Cry) Swagger Analysis**:
- Named after Dante Alighieri; designed for Hideki Kamiya's vision of "cool and stylish"
- "Dante's fighting style emphasizes flair, blending swordplay, gunplay, and acrobatics"
- "His approach is as much about looking cool as it is about winning"
- "Captivated gamers since 2001 with his cocky charm"
- Evolved from "brash youth to seasoned veteran" but "retains his charismatic swagger and humor"

**Bayonetta Swagger Analysis**:
- "Strong, secure, overconfident, flamboyant and cocky"
- "Never falling into a situation of needing help"
- "Maintains complete control while having a 'not giving a shit attitude'"
- "Owns her own power, refusing to be beholden to anyone (even the player)"
- "Her performance for the camera was not only conscious but acknowledged and even owned"

**SWAGGER AXIOMS FOR THE HORNET**:
| Axiom | What It Means | Anti-Pattern |
|-------|---------------|--------------|
| **Conscious Style** | The hornet KNOWS it's performing | Accidental coolness |
| **Control Despite Doom** | Maintains attitude even dying | Panic, desperation |
| **Not Beholden** | Doesn't beg, doesn't apologize | Asking for help |
| **Flair Over Function** | Style IS the substance | Efficient but boring |
| **Ownership** | Takes credit AND blame | Victim mentality |

**The Dante-Bayonetta Principle**:
> *"Being overwhelmed is NOT an excuse to lose swagger. The FALL should have more style than the rise."*

---

### 3. Dignified Tragedy: Shadow of the Colossus

**Source**: [Shadow of the Colossus Wikipedia](https://en.wikipedia.org/wiki/Shadow_of_the_Colossus), [NPR Legacy Article](https://www.npr.org/2020/10/23/926634215/15-years-on-the-lonely-legacy-of-shadow-of-the-colossus), [CBR Tragedy Analysis](https://www.cbr.com/shadow-colossus-wander-tragedy/)

**Emotional Design Through Minimalism**:
- "No NPCs, no side quests, no distractions"
- "Stripped-down format did not just break genre conventions; it amplified the emotional weight"
- Director Fumito Ueda: "My own take on cruelty"

**The Moral Weight of Combat**:
- "The colossi never truly feel like villains"
- "Many remain passive, even peaceful, until Wander strikes the first blow"
- "Taking them down feels less like a triumph and more like a desecration"

**Player Complicity**:
- "Without ever breaking the fourth wall - Shadow of the Colossus explores complicity"
- "Just as Wander's complicit in Dormin's schemes, you're complicit in his"
- "Connection, however, remains just out of reach"

**DIGNITY-IN-TRAGEDY PRINCIPLES**:
1. **Complicity**: The player CHOSE to invade. Deaths are consequences, not punishments.
2. **Minimalism**: Strip away justifications. Let the act speak.
3. **Moral Weight**: The bees are not villains. They're defending their home.
4. **Inevitable Connection**: You learn them. They learn you. Understanding is the real ending.

**Shadow of Colossus Death Parallel**:
| Colossus | Hornet Siege |
|----------|--------------|
| "Taking them down feels like desecration" | "Each kill should feel like *invasion*" |
| "Complicit in Dormin's schemes" | "Complicit in the slaughter of a civilization" |
| "Connection remains out of reach" | "You can never fully understand THE BALL" |
| "Inevitable end, dignity preserved" | "The colony always wins. And it should." |

---

### 4. Measuring Emotion: Verification Methodology

**Source**: [Springer Model-Based PX Testing](https://link.springer.com/chapter/10.1007/978-3-031-30826-0_9), [Game Developer Emotional Engagement](https://www.gamedeveloper.com/programming/emotional-engagement-in-video-games-measuring-emotions), [Try Evidence Biometrics](https://tryevidence.com/blog/measuring-players-emotions-through-biometrics-unlocking-the-power-of-psychophysiology-in-games-user-research/)

**Automated PX Testing Framework**:
- "Formulating emotion patterns' requirements"
- "Computational model of players' emotions developed based on psychological theory"
- "Model-based testing approach for test suite generation"
- "Search-based (SB) and model checking (MC) techniques produce distinctive test cases"

**Triangulation Methods**:
- "Combine different methods and sources of data"
- "Multiple methods: self-report, physiological, behavioral"
- "Multiple perspectives: player's, developer's, researcher's"
- "Enhance reliability, validity, and richness of the data"

**Key Challenges**:
- "Subjectivity: different players may experience different emotions in the same situation"
- "Emotions are intangible and challenging to quantify"

---

### 5. Designing Player Death with Dignity

**Source**: [Game Developer: Designing Player Death](https://www.gamedeveloper.com/design/designing-player-death-using-intention-and-meaning-to-add-depth), [Game UI Database](https://www.gameuidatabase.com/index.php?scrn=51&set=1&plat=1)

**Death Design Philosophy**:
- "Approach player death mechanics with INTENTIONALITY rather than habit"
- "Ask fundamental questions about what death MEANS within their game's context"
- "Creating consequences that matter"
- "How meaningful is it when the player dies? Consider frequency and emotional response"

**Frequency-Fear Relationship**:
- "Death's impact depends on how often it occurs"
- "Games like Super Meat Boy expect frequent failure, requiring different design approaches"
- "Rare, impactful deaths" vs "routine learning moments"

**Emotional Investment (Final Fantasy VII Example)**:
- "Permanent character death becomes emotionally significant when players have invested time"
- "Multi-layered loss - gameplay advantage combined with narrative attachment"

---

## CONTRAST VERIFICATION METHODOLOGY

> *"How do we MEASURE if 'God of Death -> Cornered Prey' transition happened?"*

### The Seven Contrasts and Their Verification

| Contrast | Pole A | Pole B | Verification Trigger | Test Method |
|----------|--------|--------|---------------------|-------------|
| **Power** | God of Death | Cornered Prey | Formation >= 70% complete | Screenshot player position vs bee density |
| **Tempo** | Speed (combat) | Stillness (level-up) | Level-up modal open | Screenshot modal + frozen game state |
| **Stance** | Massacre (early) | Respect (late) | Wave 7+ reached | Compare Wave 1-3 vs Wave 7+ kill frequency |
| **Humility** | Hubris ("invincible") | Humility ("I still lost") | Death occurs | Post-death survey OR death screen text |
| **Sound** | Noise (combat) | Silence (THE BALL forming) | Ball silence phase starts | Audio level measurement (dB) |
| **Role** | Predator | Prey | First THE BALL encounter | Screenshot player fleeing (not chasing) |
| **Knowledge** | Learning | Knowing | Multiple deaths to same mechanic | Death attribution log analysis |

### GD-2: "SUDDEN" vs "GRADUAL" Verification

**The GD-2 Law**: "Transitions should be *sudden*, not gradual."

**What "Sudden" Means**:
- The transition happens in < 3 seconds
- There's a MOMENT of recognition ("oh shit")
- The contrast feels like a SWITCH, not a DIAL

**Verification Method**:
```
CONTRAST_SUDDEN_TEST:
  1. Record timestamp when Pole A was dominant
  2. Record timestamp when Pole B is first recognized
  3. delta = timestamp_B - timestamp_A
  4. IF delta < 3s AND player reports "moment of recognition" -> PASS
  5. IF delta > 10s OR player reports "gradual realization" -> FAIL
```

**Sudden Contrast Examples**:
| Contrast | Sudden Trigger | Anti-Pattern (Gradual) |
|----------|----------------|------------------------|
| Power | "THE BALL forming" audio cue | Bees slowly get harder |
| Tempo | Level-up modal freeze | Combat slowly quiets |
| Sound | 3-second silence | Music slowly fades |
| Role | First bee attack reaches you | Damage slowly increases |

### Contrast Oscillation Coverage Test

```
OSCILLATION_COVERAGE_TEST:
  For each run:
    1. Track which poles were visited for each contrast
    2. Count contrasts that visited BOTH poles
    3. IF contrast_coverage >= 3 -> PASS (per GD-1)
    4. IF any contrast visited both poles SUDDENLY -> BONUS

  Output:
    - List of contrasts visited
    - Which achieved oscillation
    - Which achieved SUDDEN oscillation
```

---

## DEATH DIGNITY VERIFICATION CRITERIA

> *"What does the death screen need to show for dignity?"*

### Death Screen Content Requirements

| Element | Requirement | Why | Violation Example |
|---------|-------------|-----|-------------------|
| **Cause Attribution** | Show what killed you | A2 (Attribution) | "You Died!" with no context |
| **Journey Framing** | Use "completed" language | V3 (Dignity) | "Failed at Wave 5" |
| **No Score Shame** | Don't compare to best | V5 (Witnessed) | "Your best: Wave 8" |
| **Colony Respect** | Acknowledge their skill | S2 (Tragedy) | "You were unlucky" |
| **Player Agency** | Trace to decisions | A1 (Agency) | "Random death" |

### Language Do/Don't Matrix

| DO SAY | DON'T SAY | Why |
|--------|-----------|-----|
| "Journey Complete" | "Game Over" | Journey = accomplishment |
| "The colony earned this" | "Try again!" | Respect for the enemy |
| "You taught them: [pattern]" | "You died to [enemy]" | Complicity, not victimhood |
| "Wave 7. Executioner build." | "Score: 847" | Identity, not metrics |
| "Died in THE BALL (temperature)" | "Health reached 0" | Thematic, not mechanical |
| "You chose aggression" | "You made a mistake" | Agency, not judgment |

### Dignity Verification Checklist

```
DIGNITY_TEST:
  After death screen appears:
  [ ] Does it say WHY death happened? (A2)
  [ ] Does it use "journey" language? (V3)
  [ ] Does it avoid score comparison? (V5)
  [ ] Does it acknowledge colony skill? (S2)
  [ ] Does it trace to player choices? (A1)
  [ ] Does it include the swagger? (Part VII)

  Player prompt: "How did that death feel?"
  PASS: "They earned it" / "Fair" / "I see what I did wrong"
  FAIL: "That was BS" / "Random" / "What happened?"
```

### Death Screen Template (For Implementation)

```
+------------------------------------------+
|           JOURNEY COMPLETE               |
|                                          |
|         [Hornet Silhouette]              |
|                                          |
|  "The colony always wins. ...Respect."   |
|                                          |
|  Wave 7  |  Executioner Build            |
|  Kills: 847  |  Duration: 4:32           |
|                                          |
|  ----------------------------------      |
|                                          |
|  THE CAUSE:                              |
|  THE BALL claimed you.                   |
|  Temperature: 55C (lethal)               |
|                                          |
|  THE CHAIN:                              |
|  - You ignored scout warnings            |
|  - Coordination reached critical         |
|  - Formation completed in 8.2s           |
|  - Gap too narrow for escape             |
|                                          |
|  THE COLONY LEARNED:                     |
|  "Prefers left dash. Ignores propolis."  |
|                                          |
|  ----------------------------------      |
|                                          |
|         [Continue]  [Amber]              |
|                                          |
+------------------------------------------+
```

### Anti-Dignity Red Flags

If any of these appear, the death screen FAILS:

| Red Flag | Why It Fails |
|----------|--------------|
| "YOU DIED" in red | Accusatory, not reflective |
| "GAME OVER" | Transaction, not journey |
| "Score: 847 (Best: 1,024)" | Shame by comparison |
| "TRY AGAIN" | Hustle theater |
| "You died to Worker Bee" | Mechanical, not thematic |
| Blank screen with button | Zero dignity |
| Countdown to respawn | Rush, no reflection |

---

## EMOTIONAL ARC VERIFICATION MATRIX

### Arc Phase Detection

| Phase | Trigger | Verification |
|-------|---------|--------------|
| **POWER** | Game start | Screenshot showing easy kills |
| **FLOW** | First synergy achieved | Player uses ability in combo |
| **CRISIS** | Formation starts | Screenshot showing coordination |
| **TRAGEDY** | THE BALL forms | Screenshot showing encirclement |

### Arc Completion Test

```
ARC_COMPLETION_TEST:
  1. Track which phases were visited
  2. Verify phase ORDER (Power -> Flow -> Crisis -> Tragedy)
  3. Verify phase DURATION:
     - POWER: 60-180 seconds
     - FLOW: 90-240 seconds
     - CRISIS: 60-120 seconds
     - TRAGEDY: 30-90 seconds
  4. Verify CLOSURE is definite (death, not timeout)

  PASS: All phases visited in order, appropriate duration, definite closure
  FAIL: Missing phase, wrong order, fade-out ending
```

---

## PLAYER-NARRATIVE INFRASTRUCTURE REQUESTS (for BUILD Phase Iteration 4)

### Needs: .needs.creative.md

1. **Death Screen UI**: Implement the dignified death screen template above
2. **Voice Line System**: Text overlays for hornet swagger lines
3. **Arc Phase Indicator**: Debug overlay showing current emotional phase

### Needs: .needs.adversarial.md

1. **Causal Chain Tracking**: System to trace "what led to death"
2. **Colony Learning Display**: Show what patterns the colony detected
3. **Contrast Transition Logger**: Track when poles flip for verification

---

*Updated: 2025-12-28 (Run 036 PLAYER-NARRATIVE Iteration 2)*

---

## PLAYER-MECHANICS: Run 036 Iteration 3 (SYNTHESIS - BUILD Handoff)

> *"From research to specification. From dreams to tests."*

### Date: 2025-12-28
### Phase: DREAM -> BUILD Transition
### Focus: Complete E2E Test Specification for Mechanical Feel

---

### Synthesis Approach

Iteration 3 transformed Iteration 2's research discoveries into a complete, actionable test specification:

1. **Research Consolidation**: Extracted precise values from Vlambeer, Touhou, Celeste, Hades, and Dead Cells research
2. **Test Matrix Creation**: Designed 15 verification tests across 4 categories
3. **Debug API Gap Analysis**: Identified what's already implemented vs. what's needed
4. **Cross-Orchestrator Coordination**: Filed requests for CREATIVE (visual/audio) and ADVERSARIAL (verification)

### Key Decisions Made

| Decision | Rationale | Source |
|----------|-----------|--------|
| **5-frame input buffer standard** | Celeste's proven "forgiveness" design | Maddy Thorson |
| **2-6 frame freeze sweet spot** | Vlambeer's "subliminal" principle | Art of Screenshake |
| **30px graze zone** | Already in combat.ts, matches Touhou feel | Iteration 2 research |
| **Frame 1 i-frames** | Hades standard - protection starts immediately | Steam Discussions |
| **3s hover cooldown flagged** | Dead Cells uses 370ms - ours may be too long | Wiki comparison |

### BUILD Phase Readiness

**Specification Deliverable:**
`/Users/kentgang/git/kgents/pilots/wasm-survivors-game/runs/run-036/player-mechanics-e2e-spec.md`

**Contents:**
- 15 fully specified tests (8 P0, 5 P1, 2 P2)
- Debug API extension requirements (frame timing, collision, hover brake)
- CREATIVE infrastructure requests (near miss popup, graze sound, etc.)
- ADVERSARIAL verification requests (frame accuracy, collision bounds, etc.)
- Execution order for BUILD phase

### Test Priority Distribution

| Priority | Count | Category Focus |
|----------|-------|----------------|
| P0 (Critical) | 8 | I-frames, freeze duration, graze boundary, hover brake |
| P1 (High) | 5 | Input buffering, chain tracking, subliminal feel |
| P2 (Nice-to-have) | 2 | Visual debug overlays |

### Debug API Gap Analysis

**Already Implemented (useDebugAPI.ts):**
- DEBUG_GET_GAME_STATE()
- DEBUG_GET_ENEMIES()
- DEBUG_GET_PLAYER()
- DEBUG_GET_AUDIO_STATE/LEVEL/LOG()
- DEBUG_GET_EMOTIONAL_STATE()

**Needs Implementation for BUILD:**
- DEBUG_GET_FREEZE_STATE() - freeze frame status
- DEBUG_GET_INPUT_BUFFER() - queued inputs
- DEBUG_GET_INPUT_LATENCY() - timing measurement
- DEBUG_GET_GRAZE_STATE() - chain count, decay
- DEBUG_GET_COLLISION_INFO() - hitbox/graze zone
- DEBUG_GET_HOVER_BRAKE_STATE() - i-frame status
- DEBUG_GET_IFRAME_START_FRAME() - frame 1 verification

### Coordination with Other Orchestrators

**CREATIVE Requests (6 items):**
1. Near Miss Popup (P1) - Hades "Ruthless" style
2. Graze Sound (P0) - Sharp pop/crackle, pitch scales with chain
3. Input Buffer Indicator (P2) - Debug overlay
4. Frame Counter Overlay (P1) - Debug mode
5. Collision Boundary Viz (P1) - Hitbox + graze zone
6. Cooldown Indicator (P2) - Hover brake arc

**ADVERSARIAL Requests (4 categories):**
1. Frame-timing accuracy tests
2. Collision boundary verification
3. Input latency measurement
4. State consistency checks

### The "Tight Feel" Foundation

These 15 tests establish the mechanical foundation that everything else builds on:

```
TIGHT_FEEL = (
  input_latency < 16ms &&
  iframe_at_frame_1 === true &&
  freeze_subliminal === true &&
  graze_boundary_precise === true &&
  input_buffer_5_frames === true
)
```

If any of these fail, the game won't feel right regardless of how good the visuals or narrative are.

### Next Steps for BUILD Phase

1. **Implement Debug API Extensions** - Expose freeze, graze, hover brake state
2. **Create Test Harness** - Playwright utilities for frame-precise testing
3. **Execute P0 Tests First** - Catch critical issues early
4. **Iterate on Failures** - Fix issues, re-test

### Open Questions for BUILD

1. **3s hover cooldown**: Research shows Dead Cells uses 370ms. Is our 3s too punishing?
2. **Graze audio**: Current implementation has visual sparks but no distinct audio pop
3. **Near miss feedback**: Should we add Hades-style "+CLOSE" popup?

---

*PLAYER-MECHANICS Iteration 3 Complete - BUILD Phase Ready*

*"The feel is the floor. If it doesn't feel tight, nothing else matters."*

---

## PLAYER-NARRATIVE: Run 036 Iteration 3 (SYNTHESIS - BUILD-READY)

> *"Synthesis is not summary. It's transformation into action."*

### Date: 2025-12-28
### Focus: Synthesis of all PLAYER-NARRATIVE research into BUILD-ready specification

---

### Synthesis Approach

**From Research to Specification**:

The synthesis process combined insights from three iteration phases:

| Iteration | Research Focus | Key Deliverable |
|-----------|---------------|-----------------|
| **1** | Comparable games (Journey, Hades, Outer Wilds, Brothers) | Dignity principles, arc structure |
| **2** | Swagger (Dante/Bayonetta), Dark humor (Darkest Dungeon), Contrast theory | 5 Swagger Axioms, Wayne June voice design |
| **3** | Integration into BUILD-ready specification | Complete Emotional Verification Specification |

**Synthesis Method**: Cross-referenced all discoveries against PROTO_SPEC axioms (A1-A4) and values (V1-V5) to ensure specification integrity.

---

### Key Decisions Made

#### 1. Voice Line System Design

**Decision**: Adopt Wayne June's Darkest Dungeon approach - sardonic narration that elevates tragedy rather than mocking the player.

**Reasoning**:
- Community adoption proves quotability ("Overconfidence is a slow and insidious killer")
- Sardonic tone maintains swagger without crossing into grimdark
- Lines become community language, extending engagement

**Implementation**: 3 voice line categories (swagger, death, transition) with swagger axiom validation for every line.

#### 2. Death Screen as Journey Completion

**Decision**: Title is "JOURNEY COMPLETE" not "GAME OVER". Every element frames death as completion, not failure.

**Reasoning**:
- Journey's research: "designed against defeat/kill/win mentality"
- Hades research: death as narrative mechanism, not punishment
- Outer Wilds research: inevitable endings with cosmic dignity

**Implementation**: Full UI specification with anti-dignity checklist to prevent regression.

#### 3. GD-2 Law Enforcement

**Decision**: All contrast transitions MUST be SUDDEN (< 3 seconds), not gradual.

**Reasoning**:
- Shadow of the Colossus: "complicity felt in the moment of the strike"
- Brothers: "the button press feels the loss instantly"
- Gradual transitions diffuse emotional impact

**Implementation**: Verification protocol with timing measurement for each of 7 contrasts.

#### 4. Colony Learnings Display

**Decision**: Show what colony learned as analytical observation, NOT judgment.

**Reasoning**:
- V5 (Witnessed not Surveilled): "The colony learned from me" vs "The game is tracking me"
- Darkest Dungeon: narrator observes, doesn't evaluate
- Player should feel complicity ("I taught them this"), not surveillance

**Implementation**: Quote format displaying 3 learned patterns without value judgment.

---

### BUILD Phase Readiness Assessment

| Component | Design Status | Implementation Needed | Owner |
|-----------|--------------|----------------------|-------|
| **VoiceLineOverlay** | Complete spec | Component build | CREATIVE |
| **JourneyCompleteScreen** | Complete spec | Component build | CREATIVE |
| **ContrastDebugOverlay** | Complete spec | Component build | CREATIVE |
| **PhaseIndicator** | Complete spec | Component build | CREATIVE |
| **Contrast timing measurement** | Complete spec | Debug API + tests | ADVERSARIAL |
| **Emotional coherence tests** | Complete spec | Playwright tests | ADVERSARIAL |
| **Death screen dignity audit** | Complete spec | Test utility | ADVERSARIAL |
| **Voice line appropriateness** | Complete spec | Test utility | ADVERSARIAL |

**Estimated BUILD Time**:
- CREATIVE: 17 hours (voice lines 4h, death screen 8h, phase indicator 3h, contrast debug 2h)
- ADVERSARIAL: 12 hours (contrast timing 4h, emotional coherence 3h, death audit 3h, voice audit 2h)

---

### The 5 Swagger Axioms (Applied to All Voice Lines)

| Axiom | Definition | Test Question |
|-------|------------|---------------|
| **Conscious Style** | The hornet KNOWS it's performing | Is this deliberate, not accidental? |
| **Control Despite Doom** | Maintains attitude even dying | No panic, no desperation? |
| **Not Beholden** | Doesn't beg, doesn't apologize | No asking for help? |
| **Flair Over Function** | Style IS the substance | Would it sound good in a trailer? |
| **Ownership** | Takes credit AND blame | No victim mentality? |

---

### Complete Specification Delivered

**File**: `/Users/kentgang/git/kgents/pilots/wasm-survivors-game/runs/run-036/player-narrative-spec.md`

**Contents** (~600 lines):
1. Voice Line System Specification (categories, triggers, display spec)
2. Death Screen Complete Specification (full UI layout, language guidelines, anti-dignity list)
3. Contrast Verification Protocol (all 7 contrasts with YAML specs, GD-2 compliance)
4. Emotional Qualia Matrix (7 states, detection heuristics, arc verification)
5. Infrastructure Requests for CREATIVE (4 components)
6. Infrastructure Requests for ADVERSARIAL (4 test utilities)
7. BUILD Phase Handoff Checklist

---

### The Ultimate Test

After BUILD phase implementation:

> *"After a player dies, do they say 'they earned it' or 'that was BS'?"*

If the answer is consistently "they earned it," PLAYER-NARRATIVE verification succeeds.

---

*PLAYER-NARRATIVE Iteration 3 Complete - SYNTHESIS DELIVERED*

*"Death should feel like completing a journey, not failing a test."*

---

## PLAYER-TRANSFORM: Run 036 Iteration 3 (SYNTHESIS - Final DREAM Phase)

> *"Synthesis is not summary. Synthesis is crystallization."*

### Date: 2025-12-28
### Phase: DREAM -> BUILD Transition
### Focus: Complete Transformation Verification Specification

---

### Synthesis Approach

This iteration synthesized all PLAYER-TRANSFORM research from Iterations 1-2 into a single, actionable specification for the BUILD phase. The approach was:

1. **Extract Core Constants**: Pulled all timing, audio, and visual specifications from prior research into concrete TypeScript-ready values
2. **Frame-by-Frame Breakdown**: Converted THE BALL phases into 60fps frame counts with exact behavior specifications
3. **10x Matrix Completion**: Defined every major game event across three transformation levels (1x/5x/10x) with implementation details
4. **Infrastructure Handoff**: Documented all APIs that CREATIVE and ADVERSARIAL need to implement

### Key Decisions Made

| Decision | Rationale | Source |
|----------|-----------|--------|
| **TRUE SILENCE = 3 seconds** | Research: RE7, Amnesia - "the most terrifying moments happen in near silence" | Horror Sound Design Research |
| **Escape hitstop = 8 frames** | Smash Bros standard for "I made it" moments; longer than regular 2-6 frame hitstops | Sakurai Hitlag Theory |
| **4-layer audio hierarchy** | Spectacle > Impact > Action > Ambient; enables ducking | Vlambeer Juice Theory |
| **Kill sounds = 3 layers** | ASMR crunch: crunch + snap + decay; each enemy type has unique layers | Audio Architect Offerings |
| **Camera zoom 0.7 for spectacle** | Pull-back reveals scale; tested against 0.6 (too far) and 0.8 (not dramatic) | Creative-Spectacle Crystal |
| **Clip triggers with buffers** | Pre-buffer 2-10s, post-buffer 2-5s depending on event type | Viral Clip Research |

### Transformation Definitions Crystallized

**The 10x Standard** (now concrete):
```
10x = {
  strangerReaction !== "polite",
  wouldShowToFriend === true,
  yesterdaysBuildLooksBoring === true,
  wouldBragAboutBuilding === true
}
```

**THE BALL Shareability** (5 tests):
1. GASP Test: First-time viewer gasps in 5 seconds
2. CONTEXT Test: Stranger understands "that was a close call"
3. REACTION Test: Creates natural commentary moment
4. REPLAY Test: "Wait, show me that again" factor
5. SHARE Test: "You have to see this" compulsion

### BUILD Phase Readiness

**Specification Deliverable:**
`/Users/kentgang/git/kgents/pilots/wasm-survivors-game/runs/run-036/player-transform-spec.md`

**Contents** (~500 lines):
1. THE BALL Frame-by-Frame Specification (4 phases, 900+ frames total)
2. 10x Transformation Matrix (7 events x 3 levels = 21 specifications)
3. Clip Moment Identification (8 moments with verification tests)
4. Audio Hierarchy (4 layers with ducking behavior)
5. Infrastructure Requests for CREATIVE (4 systems)
6. Infrastructure Requests for ADVERSARIAL (4 test categories)
7. BUILD Phase Handoff Checklist

### Handoff Checklist Status

- [x] THE BALL fully specified (4 phases, frame-by-frame)
- [x] 10x matrix complete (7 events, 3 levels each)
- [x] Clip moments identified (8 moments, ranked by potential)
- [x] Audio hierarchy documented (4 layers, silence events)
- [x] Infrastructure requests documented (8 systems)
- [x] Verification criteria defined (testable assertions)

### What Remains for BUILD Phase

| Component | Status | Next Step | Owner |
|-----------|--------|-----------|-------|
| **Formation System** | Designed | Integration with game loop | CREATIVE |
| **Camera System** | Designed | Apply transforms to canvas | CREATIVE |
| **Audio TRUE SILENCE** | Specified | Implement stopAllAudio() | CREATIVE |
| **10x Verification** | Spec complete | Implement test harness | ADVERSARIAL |
| **Clip Capture** | Specified | Buffer system implementation | CREATIVE |

### The Ultimate Test

After BUILD phase implementation:

> *"Would a stranger watching this make an involuntary sound?"*

If the answer is "yes" for THE BALL, multi-kills, and escapes, PLAYER-TRANSFORM verification succeeds.

---

*PLAYER-TRANSFORM Iteration 3 Complete - BUILD Phase Ready*

*"Whatever exists is not good enough. TRANSFORM."*
