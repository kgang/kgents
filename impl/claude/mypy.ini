[mypy]
strict = True
explicit_package_bases = True
exclude = protocols/proto/generated/

# External libraries without type stubs or py.typed
[mypy-redis]
ignore_missing_imports = True

[mypy-redis.*]
ignore_missing_imports = True

[mypy-fakeredis]
ignore_missing_imports = True

[mypy-fakeredis.*]
ignore_missing_imports = True

[mypy-asyncpg]
ignore_missing_imports = True

[mypy-asyncpg.*]
ignore_missing_imports = True

[mypy-lark]
ignore_missing_imports = True

[mypy-lark.*]
ignore_missing_imports = True

[mypy-sentence_transformers]
ignore_missing_imports = True

[mypy-sentence_transformers.*]
ignore_missing_imports = True

[mypy-openai]
ignore_missing_imports = True

[mypy-openai.*]
ignore_missing_imports = True

[mypy-chromadb]
ignore_missing_imports = True

[mypy-chromadb.*]
ignore_missing_imports = True

[mypy-faiss]
ignore_missing_imports = True

[mypy-faiss.*]
ignore_missing_imports = True

[mypy-dspy]
ignore_missing_imports = True

[mypy-dspy.*]
ignore_missing_imports = True

[mypy-uvicorn]
ignore_missing_imports = True

[mypy-uvicorn.*]
ignore_missing_imports = True

[mypy-fastapi]
ignore_missing_imports = True

[mypy-fastapi.*]
ignore_missing_imports = True

[mypy-textual.*]
ignore_missing_imports = True

[mypy-rich.*]
ignore_missing_imports = True

[mypy-grpc]
ignore_missing_imports = True

[mypy-grpc.*]
ignore_missing_imports = True

[mypy-grpcio]
ignore_missing_imports = True

[mypy-grpcio.*]
ignore_missing_imports = True

[mypy-grpcio_tools.*]
ignore_missing_imports = True

[mypy-kopf]
ignore_missing_imports = True

[mypy-kopf.*]
ignore_missing_imports = True

[mypy-kubernetes]
ignore_missing_imports = True

[mypy-kubernetes.*]
ignore_missing_imports = True

[mypy-kubernetes_asyncio.*]
ignore_missing_imports = True

[mypy-yaml]
ignore_missing_imports = True

[mypy-yaml.*]
ignore_missing_imports = True

[mypy-hypothesis]
ignore_missing_imports = True

[mypy-hypothesis.*]
ignore_missing_imports = True

[mypy-prometheus_client.*]
ignore_missing_imports = True

[mypy-google]
ignore_missing_imports = True

[mypy-google.*]
ignore_missing_imports = True

[mypy-google.protobuf]
ignore_missing_imports = True

[mypy-google.protobuf.*]
ignore_missing_imports = True

# Internal modules missing py.typed - these are own modules with missing markers
[mypy-impl.*]
ignore_missing_imports = True

[mypy-agents.d.transform_agent]
ignore_missing_imports = True

[mypy-agents.e.parser.p_integration]
ignore_missing_imports = True

[mypy-protocols.cli.companions]
ignore_missing_imports = True

[mypy-protocols.cli.igent_synergy]
ignore_missing_imports = True

[mypy-protocols.cli.scientific]
ignore_missing_imports = True

# Handle __main__ module (running from current directory)
[mypy-__main__]
ignore_missing_imports = True

[mypy-__main__.*]
ignore_missing_imports = True

# Relax strictness for test files - test functions often have complex fixtures
# We need explicit entries since mypy's * doesn't recursively match
[mypy-conftest]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-testing]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-testing.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-qa]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-qa.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

# Test directories - explicit patterns
[mypy-agents._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.a._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.a._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.b._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.b._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.c._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.c._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.d._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.d._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.e._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.e._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.g._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.g._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.h._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.h._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.i._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.i._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.k._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.k._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.l._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.l._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.m._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.m._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.n._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.n._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.o._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.o._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.p._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.p._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.r._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.r._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.t._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.t._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.u._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.u._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.w._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.w._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.y._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-agents.y._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-bootstrap._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-bootstrap._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-infra._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-infra._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-infra.k8s._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-infra.k8s._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-infra.k8s.operators._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-infra.k8s.operators._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-protocols._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-protocols._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-protocols.agentese._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-protocols.agentese._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-protocols.cli._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-protocols.cli._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-protocols.cli.devex._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-protocols.cli.devex._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-protocols.cli.flow._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-protocols.cli.flow._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-protocols.cli.handlers._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-protocols.cli.handlers._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-protocols.cli.instance_db._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-protocols.cli.instance_db._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-protocols.cli.prism._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-protocols.cli.prism._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-protocols.cli.tui._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-protocols.cli.tui._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-runtime._tests]
disallow_untyped_defs = False
disallow_untyped_calls = False

[mypy-runtime._tests.*]
disallow_untyped_defs = False
disallow_untyped_calls = False
