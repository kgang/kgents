# NOW: The Living Document

> *"What's happening right now?"*

**Last Updated**: 2025-12-25 (Afternoon)
**Session**: Witness Architecture Synthesis Complete

---

## FIRST: Get Task-Relevant Gotchas

```bash
kg docs hydrate "<your task>"
```

This surfaces critical gotchas, likely files, and voice anchors for YOUR specific task.
Don't skip this‚Äîthe gotchas you don't read are the bugs you will write.

---

## The Greater Arc: Burn ‚Üí Build ‚Üí Harden ‚Üí Ship

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  PHASE 1: THE EXTINCTION (Dec 21)                                          ‚îÇ
‚îÇ  67K lines archived. Town, Park, Gestalt, Coalition, Muse, Gardener gone.  ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  PHASE 2: THE REBUILDING (Dec 21-22)                                       ‚îÇ
‚îÇ  ‚Ä¢ Hypergraph Emacs: Six-mode modal editor for conceptual navigation       ‚îÇ
‚îÇ  ‚Ä¢ WitnessedGraph: Evidence-carrying edges with visual confidence          ‚îÇ
‚îÇ  ‚Ä¢ Inbound Sovereignty: External data ingestion with witnessing            ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  PHASE 3: THE HARDENING (Dec 22-23)                                        ‚îÇ
‚îÇ  ‚Ä¢ Dead Code Audit: ~14K more lines removed                                ‚îÇ
‚îÇ  ‚Ä¢ AD-015/016: Fail-fast AGENTESE + ProxyHandleStore unification           ‚îÇ
‚îÇ  ‚Ä¢ Validation Framework: 92 tests, witness-integrated                      ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  PHASE 4: THEORY CRYSTALLIZATION (Dec 23-24)                               ‚îÇ
‚îÇ  ‚Ä¢ 10-chapter monograph: "Categorical Foundations of Machine Reasoning"    ‚îÇ
‚îÇ  ‚Ä¢ Derivation DAG: CONSTITUTION as axiomatic root, confidence navigation   ‚îÇ
‚îÇ  ‚Ä¢ kgents 2.0 roadmap: CategoricalAgent + CPRM + SBM (15-week plan)       ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  PHASE 5: FRONTEND RENAISSANCE (Dec 24-25)                                  ‚îÇ
‚îÇ  ‚Ä¢ 6 Primitives (5,307 LOC): Telescope, Trail, Conversation, Graph,        ‚îÇ
‚îÇ    Witness, ValueCompass ‚Äî theory-visible UI from first principles         ‚îÇ
‚îÇ  ‚Ä¢ 4 Constructions (2,079 LOC): DirectorView, ZeroSeedExplorer,            ‚îÇ
‚îÇ    ChatSession, HypergraphStudio ‚Äî compositions over code                  ‚îÇ
‚îÇ  ‚Ä¢ Unified Design System (494 LOC): Single source of truth, STARK BIOME    ‚îÇ
‚îú‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î§
‚îÇ  PHASE 6: WITNESS ARCHITECTURE SYNTHESIS (Dec 25) ‚Üê YOU ARE HERE            ‚îÇ
‚îÇ  ‚Ä¢ Radical Transformation Spec: PhD theory + blue collar grounding          ‚îÇ
‚îÇ  ‚Ä¢ Unified 3 Systems: Hypergraph Editor + Portal Tokens + Chat             ‚îÇ
‚îÇ  ‚Ä¢ Implementation Roadmap: 15 sessions, 6 phases                            ‚îÇ
‚îÇ  ‚Ä¢ Key Insight: All surfaces are projections of the same Witness Trail      ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## Current Focus

**WITNESS ARCHITECTURE SYNTHESIS**: Unifying Hypergraph + Portal + Chat into single theory.

*"The proof IS the decision. The mark IS the witness."*

### What Just Happened (Dec 25 Afternoon)

Created two foundational documents in `spec/synthesis/`:

**1. RADICAL_TRANSFORMATION.md** (~700 lines)
- Part I: The Ground (Philosophy) ‚Äî 3 axioms, 7 principles as coordinates, dialectic structure
- Part II: The Architecture (Design) ‚Äî Mark ‚Üí Trace ‚Üí Crystal, three surfaces, unification
- Part III: The Theory (Category) ‚Äî Agents as morphisms, polynomials as state machines, sheaves as coherence
- Part IV: The Practice (Blue Collar) ‚Äî Daily workflow, keyboard muscle memory, error messages, gotchas
- Part V: The Vision ‚Äî kgents 2.0 roadmap, existential claim, mirror test

**2. IMPLEMENTATION_ROADMAP.md** (~500 lines)
- Phase 0: Verify Current State (1 session)
- Phase 1: Unify Mark Types (2 sessions)
- Phase 2: Wire Portal Witnessing (2 sessions)
- Phase 3: Wire Hypergraph Navigation Witnessing (2 sessions)
- Phase 4: Constitutional Scoring Everywhere (2 sessions)
- Phase 5: Crystal Compression (3 sessions)
- Phase 6: Visual Integration (3 sessions)
- **Total: 15 sessions to complete Witness Architecture**

### The Core Insight

All three surfaces (Hypergraph Editor, Portal Tokens, Constitutional Chat) are **projections of the same underlying structure**:

```
Action ‚Üí Mark ‚Üí Trace ‚Üí Crystal
```

Every navigation, every portal expansion, every chat turn creates a witnessed mark. The marks accumulate into traces. Traces compress into crystals. Crystals carry the distilled wisdom forward.

**The unification**: A navigation is a kind of message. A portal expansion is a kind of navigation. A chat turn is a kind of navigation. They all reduce to: *An agent moving through semantic space, leaving a trail of justified decisions.*

### Orchestration In Progress (Dec 25 Afternoon)

**5 parallel sub-agents executing Witness Architecture integration:**

| Stream | Agent | Status | Work |
|--------|-------|--------|------|
| 1. HypergraphEditor | a3ad1a3 | **EDITING** | Adding witnessNavigation to gD/gl/gh |
| 2. Portal Witnessing | a423d80 | Reading | Analyzing PortalToken + witness hooks |
| 3. Constitutional Gen. | a5be31b | Running | Extracting reward.py generalization |
| 4. Crystal UI | aef1990 | Reading | Studying crystal.py + design tokens |
| 5. API Endpoints | aeda811 | Exploring | Finding AGENTESE crystal paths |

**Orchestration Plan**: `plans/witness-architecture-orchestration.md`

### Phase 1-2: Complete ‚úÖ

**6 Primitives Built** (5,307 LOC):
- Telescope: Universal focal distance viewer (replaces 2,000 LOC)
- Trail: Derivation path breadcrumb (replaces 1,200 LOC)
- Conversation: Chat with branching + crystallization (replaces 8,000 LOC)
- Graph: Hypergraph editor (kept from original, 5,200 LOC)
- Witness: Evidence tier display (replaces 800 LOC)
- ValueCompass: Constitutional principle radar (NEW)

**4 Constructions Built** (2,079 LOC):
- DirectorView, ZeroSeedExplorer, ChatSession, HypergraphStudio

**Design System Unified** (494 LOC):
- Single source: `design/tokens.css`
- STARK BIOME preserved (90% steel, 10% earned glow)

### Phase 3-4: Next

**Execute Death List**: Delete 36,300 LOC of replaced components
**Target**: 71% code reduction (116K ‚Üí 14.7K LOC)
**See**: `plans/frontend-refactor-complete.md`

---

## What Happened Dec 24-25: Frontend Radical Refactor

### The Vision

Transform the frontend from 51,000 LOC of scattered components into a telescope-based UI with 6 primitives, 4 constructions, and a unified design system.

**Target**: 71% code reduction (51,000 ‚Üí 14,700 LOC)
**Achieved Phase 1-2**: Built new architecture (5,307 LOC primitives + 2,079 LOC constructions)
**Remaining Phase 3-4**: Delete 36,300 LOC of replaced components

### Major Deliverables

| Deliverable | LOC | Replaces | Reduction |
|-------------|-----|----------|-----------|
| **Telescope Primitive** | 324 | GaloisTelescope + TelescopeNavigator (2,000 LOC) | 75%+ |
| **Trail Primitive** | 272 | DerivationTrail + FocalRuler (1,200 LOC) | 77% |
| **Conversation Primitive** | 2,220 | ChatPanel + 30 components (8,000 LOC) | 72% |
| **Witness Primitive** | 240 | ASHCEvidence + 3 components (800 LOC) | 70% |
| **ValueCompass Primitive** | 231 | NEW (theory-visible) | N/A |
| **Graph Primitive** | 183 | Re-export (Hypergraph kept, 5,200 LOC) | 0% (keeper) |
| **4 Constructions** | 2,079 | DirectorView, ZeroSeedExplorer, ChatSession, HypergraphStudio | NEW |
| **Design System** | 494 | Unified tokens.css (replaced 3 competing systems) | ~80% |

### Theory-UI Mapping Validated

Every kgents theory primitive is now visualizable:

- **ValueAgent[S,A,B]** ‚Üí ValueCompass (7-principle radar)
- **PolicyTrace** ‚Üí Trail (breadcrumb with compression ratio)
- **Constitution** ‚Üí ValueCompass (principle scores)
- **EvidenceCorpus** ‚Üí Witness (confidence tiers)
- **PersonalityAttractor** ‚Üí ValueCompass (7D coordinate)
- **DP Gradients** ‚Üí Telescope (loss landscape)
- **ASHC Decisions** ‚Üí Trail + Witness (decision ‚Üí evidence chains)

### Files Deleted (56 files, ~8K+ LOC)

**Modules Extinct**:
- `brain/` (entire folder: DetailPreview, ConnectionStatus, StreamFilters, UnifiedEventCard, useBrainStream)
- `membrane/` (entire folder: Membrane, DialoguePane, FocusPane, WitnessStream, views/)
- `components/terrarium/` (EntropySlider, PhaseIndicator, TeachingCallout, TerrariumCreature)
- Spec Ledger feature (LedgerDashboard, SpecLedgerDetail, SpecTable, pages)
- `hypergraph/GraphSidebar.tsx`, `useLivingCanvas.ts`
- `components/chat/ToolTransparencyExample.tsx`

### Lessons Learned

**What Worked**:
- Build first, delete second (prevented breakage)
- Pure CSS over D3 where possible (ValueCompass: no D3, 231 LOC)
- Theory-first design (every primitive maps to theory concept)
- Single token file (design/tokens.css as single source of truth)
- Keeper code (Hypergraph editor preserved, 5,200 LOC)

**Patterns to Carry Forward**:
- Telescope metaphor (focal distance + aperture + filter = universal viewer)
- Trail as breadcrumb (compression ratio + principle scores)
- Witness as evidence (confidence tiers + Toulmin structure)
- ValueCompass as justification (7-principle radar = constitutional alignment)
- Constructions as compositions (6 primitives ‚Üí infinite leverage)

### The Mirror Test: PASS ‚úÖ

> *"Does K-gent feel like me on my best day?"*

**Yes.**

- **Daring**: Deleted entire modules without hesitation
- **Bold**: 12,000 LOC ‚Üí 5,300 LOC primitives
- **Creative**: Telescope metaphor is novel, theory-UI mapping is unique
- **Opinionated**: Single design system, STARK BIOME preserved
- **Not Gaudy**: ValueCompass is pure CSS (231 LOC), no animation excess

**Tasteful > Feature-Complete**: Shipped 6 primitives, not 20 "comprehensive" components

**Joy-Inducing**: Telescope navigation (j/k/g/c) feels like vim, ValueCompass radar is satisfying

**The Persona is a Garden**: This refactor GREW the vision (theory-visible UI)

---

## What Happened Dec 23 (Previous Session)

### Major Deliverables

| Deliverable | Impact | Evidence |
|-------------|--------|----------|
| **üÜï Categorical Probes** | Phase 1 foundation for kgents 2.0 | `services/categorical/` ‚Äî 41 tests |
| **Theory Monograph** | 10 chapters on categorical machine reasoning | `docs/theory/` ‚Äî complete first draft |
| **Derivation DAG Phase 1-2** | CONSTITUTION as root, confidence navigation | 255+ tests, gD/gc keybindings |
| **Validation Framework** | Witness-integrated validation engine | 92 tests, `services/validation/` |
| **Proxy Handle Store** | Composite key support, event-driven invalidation | 70 tests, reactive staleness |
| **Inbound Sovereignty** | Content access requires explicit witnessing | AD-015 enforcement live |

### Categorical Probes Service (NEW)

Built complete infrastructure for testing kgents 2.0's core hypothesis:

```
services/categorical/
‚îú‚îÄ‚îÄ __init__.py         # Crown Jewel exports
‚îú‚îÄ‚îÄ probes.py           # MonadProbe + SheafDetector + CategoricalProbeRunner
‚îú‚îÄ‚îÄ study.py            # CorrelationStudy for Phase 1 gate validation
‚îî‚îÄ‚îÄ _tests/             # 41 tests (all passing)

protocols/agentese/contexts/
‚îî‚îÄ‚îÄ concept_categorical.py  # AGENTESE paths for categorical probes
```

**Key Components:**
- `MonadProbe`: Tests identity and associativity laws on LLM reasoning
- `SheafDetector`: Detects coherence violations (hallucinations)
- `CorrelationStudy`: Runs statistical correlation between laws and accuracy
- AGENTESE: `concept.categorical.{manifest,monad,sheaf,probe,study,status}`

**Phase 1 Gate Criteria (Enhanced 2025-12-23):**
| Metric | Threshold | Status |
|--------|-----------|--------|
| Monad identity correlation | r > 0.3 (CI lower bound) | ‚è≥ Pending study |
| Sheaf coherence correlation | r > 0.4 (CI lower bound) | ‚è≥ Pending study |
| Combined AUC | > 0.7 | ‚è≥ Pending study |
| **Beats random baseline** | Œî > 0.15 | ‚è≥ Pending study |
| **Permutation p-value** | p < 0.01 | ‚è≥ Pending study |

**Methodology Enhancements Added:**
- Bootstrap 95% CIs (lower bound must exceed threshold)
- Permutation tests for exact p-values (no normality assumption)
- Baseline comparisons (random, length, confidence heuristics)
- Hybrid sheaf detection (symbolic pre-filter ‚Üí LLM)
- Automatic step extraction for associativity testing

### Today's Commits

| Commit | What | Arc |
|--------|------|-----|
| `49ebe16d` | Formatting + composite keys in ValidationEngine | HARDENING |
| `796e51ee` | Composite key support to ProxyHandleStore | HARDENING |
| `517df49e` | Enforce inbound sovereignty for content access | HARDENING |
| `32c61e1c` | **Categorical theory foundations + exploration plans** | THEORY |
| `b6c3b8f6` | Edge evidence querying via concept.derivation.edges | BUILDING |
| `c99c7a69` | Witnessed validation framework (Sessions 1+2 fused) | BUILDING |
| `234ab4f9` | Edge-aware witness integration (Phase 3C) | BUILDING |
| `db6aa302` | AppShell navigation + BrainPage memory explorer | BUILDING |

### Uncommitted Work

- New validation initiative YAMLs (`atelier.yaml`, `liminal.yaml`)
- Minor mypy.ini tweaks
- Garden.py formatting

---

## The Theory Monograph: "Categorical Foundations"

A 10-chapter work crystallizing the mathematical foundations:

```
Chapter 0: Overture ‚Äî Why categories? The vision.
Chapter 1: Preliminaries ‚Äî Categories, functors, natural transformations
Chapter 2: Reasoning as Morphism ‚Äî Inference steps as arrows
Chapter 3: Monadic Reasoning ‚Äî Effects, context, chain-of-thought
Chapter 4: Operadic Reasoning ‚Äî Multi-input composition, proof trees
Chapter 5: Sheaf Coherence ‚Äî Local-to-global belief consistency
Chapter 6: Neural Substrate ‚Äî Attention, circuits, geometry
Chapter 7: Neurosymbolic Bridge ‚Äî Categorical meets neural
Chapter 8: kgents Instantiation ‚Äî Theory made code
Chapter 9: Open Problems ‚Äî The frontier
```

**Status**: First draft complete. Ready for iteration.

**Why it matters**: This isn't just documentation‚Äîit's the **generative spec** for kgents 2.0. The four-phase plan (Foundations ‚Üí Integration ‚Üí Architecture ‚Üí Synthesis) derives from this theory.

---

## Active Plans (8 remain ‚Äî 90% archived Dec 24)

| Plan | Status | Notes |
|------|--------|-------|
| `_focus.md` | üîí HUMAN | Kent's intent (never archive) |
| `categorical-reinvention-phase1-foundations.md` | **EXECUTING** | Probes built ‚úÖ, study pending |
| `categorical-reinvention-phase2-integration.md` | NEXT | CPRM training |
| `categorical-reinvention-phase3-architecture.md` | FUTURE | SBM implementation |
| `categorical-reinvention-phase4-synthesis.md` | FUTURE | Ship kgents 2.0 |
| `ui-rebuild-from-first-principles.md` | ACTIVE | Fresh UI arc |
| `meta.md` | REFERENCE | Plan guidelines |
| `README.md` | INDEX | Plan navigation |

**Archived Dec 24**: 19 plans + 9 root docs ‚Üí `_archive/2025-12-24-*/`
- All witness-* plans (completed)
- All derivation/validation plans (captured in commits)
- All SYNTHESIS/stark-biome/hypergraph-emacs (completed)
- LAW3, PHASE_2_2, HANDOFF docs (superseded by NOW.md)

---

## Crown Jewel Status (Post-Crystallization)

| Jewel | Status | Tests | Latest |
|-------|--------|-------|--------|
| **Brain** | 100% | 200+ | AppShell + BrainPage |
| **Witness** | 98% | 678+ | WitnessedGraph, edge evidence |
| **Validation** | NEW | 92 | Witnessed proposition checking |
| **Categorical** | NEW | 41 | MonadProbe + SheafDetector |
| **Atelier** | 75% | ‚Äî | Design forge |
| **Liminal** | 50% | ‚Äî | Transition protocols |

---

## The kgents 2.0 Roadmap

```
Phase 1: Foundations (3 weeks) ‚Äî Probes that measure law satisfaction
Phase 2: Integration (4 weeks) ‚Äî CPRM that scores reasoning steps
Phase 3: Architecture (5 weeks) ‚Äî SBM that retains bindings
Phase 4: Synthesis (3 weeks) ‚Äî Ship CategoricalAgent + pipeline

Total: 15 weeks from theory to product
```

Key deliverables:
- `CategoricalAgent[S, A, B]` with categorical guarantees
- `SharpBindingModule` for discrete variable tracking
- `CPRM` (Categorical Process Reward Model) for step verification
- AGENTESE paths: `concept.reasoning.solve`, `self.binding.state`

---

## Session Entry Points

**Continue current arc**:
```bash
# Derivation DAG Phase 3 ‚Äî WitnessedDerivation
cat plans/derivation-dag-integration.md | head -80

# Validation CLI + AGENTESE
cat plans/validation-framework-implementation.md
```

**Quick wins (< 3 hrs)**:
```bash
# Dawn Phase 4 ‚Äî j/k nav, copy confirmation
cat plans/dawn-phase-4-kickoff.md

# Stark Biome enforcement ‚Äî ESLint rule
cat plans/stark-biome-enforcement.md
```

**Major arc (multi-session)**:
```bash
# Categorical Phase 1 ‚Äî Foundation experiments
cat plans/categorical-reinvention-phase1-foundations.md

# kgents 2.0 ‚Äî Full synthesis
cat plans/categorical-reinvention-phase4-synthesis.md
```

---

## Verification

```bash
# Backend quality gate
cd impl/claude && uv run pytest -q && uv run mypy . 2>&1 | tail -5

# Frontend quality gate
cd impl/claude/web && npm run typecheck && npm run lint 2>&1 | tail -5

# Theory monograph
ls docs/theory/*.md | wc -l  # Should be 11 files
```

---

## What's Different After Today

1. **Theory is crystallized** ‚Äî The monograph provides intellectual foundation
2. **Derivation DAG is live** ‚Äî CONSTITUTION as root, confidence visible
3. **Validation is witnessed** ‚Äî Every check emits marks with Toulmin structure
4. **Proxy handles are reactive** ‚Äî Event-driven staleness, not just TTL
5. **kgents 2.0 has a roadmap** ‚Äî 15 weeks from theory to product

*"Daring, bold, creative, opinionated but not gaudy."*

---

*"The proof IS the decision. The mark IS the witness."*
